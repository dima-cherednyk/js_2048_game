{"version":3,"sources":["scripts/main.js"],"names":["start","document","querySelector","tr","querySelectorAll","td","tbody","startMessage","loseMessage","winMessage","score","step","row","column","getRandom","min","max","Math","floor","random","startGame","rowFirstCell","firstCell","children","secondCell","textContent","className","addCell","rowThirdCell","thirdCell","includes","up","r","c","mergeUp","down","mergeDown","left","mergeLeft","right","mergeRight","addEventListener","target","key","e","lose","every","x","win","some"],"mappings":"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","file":"main.3bf096cc.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst start = document.querySelector('button');\nconst tr = document.querySelectorAll('tr');\nconst td = document.querySelectorAll('td');\nconst tbody = document.querySelector('tbody');\nconst startMessage = document.querySelector('.message-start');\nconst loseMessage = document.querySelector('.message-lose');\nconst winMessage = document.querySelector('.message-win');\nconst score = document.querySelector('.game-score');\nlet step = 0;\nlet row = false;\nlet column = false;\n\nfunction getRandom(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\nfunction startGame() {\n  const rowFirstCell = tbody.children[getRandom(1, 4) - 1];\n  const firstCell = rowFirstCell.children[getRandom(1, 4) - 1];\n  const rowSecondCell = tbody.children[getRandom(1, 4) - 1];\n  const secondCell = rowSecondCell.children[getRandom(1, 4) - 1];\n\n  if (firstCell === secondCell) {\n    return startGame();\n  };\n\n  if (getRandom(0, 100) <= 10) {\n    firstCell.textContent = '4';\n    firstCell.className = 'field-cell field-cell--4';\n  } else {\n    firstCell.textContent = '2';\n    firstCell.className = 'field-cell field-cell--2';\n  };\n\n  if (getRandom(0, 100) <= 10) {\n    secondCell.textContent = '4';\n    secondCell.className = 'field-cell field-cell--4';\n  } else {\n    secondCell.textContent = '2';\n    secondCell.className = 'field-cell field-cell--2';\n  };\n};\n\nfunction addCell() {\n  const rowThirdCell = tbody.children[getRandom(1, 4) - 1];\n  const thirdCell = rowThirdCell.children[getRandom(1, 4) - 1];\n\n  if (step === 0) {\n    return;\n  };\n\n  if (thirdCell.className.includes('--')) {\n    return addCell();\n  };\n\n  if (getRandom(0, 100) <= 10) {\n    thirdCell.textContent = '4';\n    thirdCell.className = 'field-cell field-cell--4';\n  } else {\n    thirdCell.textContent = '2';\n    thirdCell.className = 'field-cell field-cell--2';\n  };\n\n  step = 0;\n};\n\nfunction up() {\n  for (let r = 1; r < 4; r++) {\n    for (let c = 0; c < 4; c++) {\n      if (tr[r].children[c].className.includes('--')\n      && !tr[r - 1].children[c].className.includes('--')) {\n        tr[r - 1].children[c].className = tr[r].children[c].className;\n        tr[r - 1].children[c].textContent = tr[r].children[c].textContent;\n        tr[r].children[c].className = 'field-cell';\n        tr[r].children[c].textContent = '';\n        up();\n        step = 1;\n      };\n    };\n  };\n};\n\nfunction mergeUp() {\n  for (let r = 1; r < 4; r++) {\n    for (let c = 0; c < 4; c++) {\n      if (tr[r].children[c].className.includes('--')\n      && tr[r - 1].children[c].className.includes('--')\n      && tr[r - 1].children[c].textContent === tr[r].children[c].textContent) {\n        tr[r - 1].children[c].textContent = tr[r].children[c].textContent * 2;\n\n        tr[r - 1].children[c].className\n          = `field-cell field-cell--${tr[r - 1].children[c].textContent}`;\n        tr[r].children[c].className = 'field-cell';\n        tr[r].children[c].textContent = '';\n        step = 1;\n\n        score.textContent\n          = +score.textContent + +(tr[r - 1].children[c].textContent);\n      };\n    };\n  };\n};\n\nfunction down() {\n  for (let r = 2; r >= 0; r--) {\n    for (let c = 3; c >= 0; c--) {\n      if (tr[r].children[c].className.includes('--')\n      && !tr[r + 1].children[c].className.includes('--')) {\n        tr[r + 1].children[c].className = tr[r].children[c].className;\n        tr[r + 1].children[c].textContent = tr[r].children[c].textContent;\n        tr[r].children[c].className = 'field-cell';\n        tr[r].children[c].textContent = '';\n        down();\n        step = 1;\n      };\n    };\n  };\n};\n\nfunction mergeDown() {\n  for (let r = 2; r >= 0; r--) {\n    for (let c = 3; c >= 0; c--) {\n      if (tr[r].children[c].className.includes('--')\n      && tr[r + 1].children[c].className.includes('--')\n      && tr[r + 1].children[c].textContent === tr[r].children[c].textContent) {\n        tr[r + 1].children[c].textContent = tr[r].children[c].textContent * 2;\n\n        tr[r + 1].children[c].className\n          = `field-cell field-cell--${tr[r + 1].children[c].textContent}`;\n        tr[r].children[c].className = 'field-cell';\n        tr[r].children[c].textContent = '';\n        step = 1;\n\n        score.textContent\n          = +score.textContent + +(tr[r + 1].children[c].textContent);\n      };\n    };\n  };\n};\n\nfunction left() {\n  for (let r = 0; r < 4; r++) {\n    for (let c = 1; c < 4; c++) {\n      if (tr[r].children[c].className.includes('--')\n      && !tr[r].children[c - 1].className.includes('--')) {\n        tr[r].children[c - 1].className = tr[r].children[c].className;\n        tr[r].children[c - 1].textContent = tr[r].children[c].textContent;\n        tr[r].children[c].className = 'field-cell';\n        tr[r].children[c].textContent = '';\n        left();\n        step = 1;\n      };\n    };\n  };\n};\n\nfunction mergeLeft() {\n  for (let r = 0; r < 4; r++) {\n    for (let c = 1; c < 4; c++) {\n      if (tr[r].children[c].className.includes('--')\n      && tr[r].children[c - 1].className.includes('--')\n      && tr[r].children[c - 1].textContent === tr[r].children[c].textContent) {\n        tr[r].children[c - 1].textContent = tr[r].children[c].textContent * 2;\n\n        tr[r].children[c - 1].className\n          = `field-cell field-cell--${tr[r].children[c - 1].textContent}`;\n        tr[r].children[c].className = 'field-cell';\n        tr[r].children[c].textContent = '';\n        step = 1;\n\n        score.textContent\n          = +score.textContent + +(tr[r].children[c - 1].textContent);\n      };\n    };\n  };\n};\n\nfunction right() {\n  for (let r = 3; r >= 0; r--) {\n    for (let c = 2; c >= 0; c--) {\n      if (tr[r].children[c].className.includes('--')\n      && !tr[r].children[c + 1].className.includes('--')) {\n        tr[r].children[c + 1].className = tr[r].children[c].className;\n        tr[r].children[c + 1].textContent = tr[r].children[c].textContent;\n        tr[r].children[c].className = 'field-cell';\n        tr[r].children[c].textContent = '';\n        right();\n        step = 1;\n      };\n    };\n  };\n};\n\nfunction mergeRight() {\n  for (let r = 3; r >= 0; r--) {\n    for (let c = 2; c >= 0; c--) {\n      if (tr[r].children[c].className.includes('--')\n      && tr[r].children[c + 1].className.includes('--')\n      && tr[r].children[c + 1].textContent === tr[r].children[c].textContent) {\n        tr[r].children[c + 1].textContent = tr[r].children[c].textContent * 2;\n\n        tr[r].children[c + 1].className\n          = `field-cell field-cell--${tr[r].children[c + 1].textContent}`;\n        tr[r].children[c].className = 'field-cell';\n        tr[r].children[c].textContent = '';\n        step = 1;\n\n        score.textContent\n          = +score.textContent + +(tr[r].children[c + 1].textContent);\n      };\n    };\n  };\n};\n\ndocument.addEventListener('click', (c) => {\n  if (c.target.className.includes('start')) {\n    startGame();\n\n    if (start.className.includes('restart')) {\n      for (const key of td) {\n        key.className = 'field-cell';\n        key.textContent = '';\n      };\n\n      score.textContent = 0;\n\n      startGame();\n    };\n\n    start.className = 'button restart';\n    start.textContent = 'Restart';\n    startMessage.className = 'message message-lose hidden';\n    loseMessage.className = 'message message-lose hidden';\n  };\n});\n\ndocument.addEventListener('keydown', (e) => {\n  if (startMessage.className === 'message message-lose hidden') {\n    if (e.key === 'ArrowUp') {\n      up();\n      mergeUp();\n      up();\n      addCell();\n    };\n\n    if (e.key === 'ArrowDown') {\n      down();\n      mergeDown();\n      down();\n      addCell();\n    };\n\n    if (e.key === 'ArrowLeft') {\n      left();\n      mergeLeft();\n      left();\n      addCell();\n    };\n\n    if (e.key === 'ArrowRight') {\n      right();\n      mergeRight();\n      right();\n      addCell();\n    };\n  };\n\n  const lose = [...td].every(x => x.className.includes('--'));\n  const win = [...td].some(x => x.className.includes('--2048'));\n\n  if (lose === true) {\n    row = false;\n    column = false;\n\n    for (let r = 0; r < 3; r++) {\n      for (let c = 0; c < 4; c++) {\n        if (tr[r].children[c].textContent\n          === tr[r + 1].children[c].textContent) {\n          return;\n        };\n\n        if (tr[r].children[c].textContent\n          !== tr[r + 1].children[c].textContent) {\n          row = true;\n        };\n      };\n    };\n\n    for (let r = 0; r < 4; r++) {\n      for (let c = 0; c < 3; c++) {\n        if (tr[r].children[c].textContent\n          === tr[r].children[c + 1].textContent) {\n          return;\n        };\n\n        if (tr[r].children[c].textContent\n          !== tr[r].children[c + 1].textContent) {\n          column = true;\n        };\n      };\n    };\n\n    if (lose === true && row === true && column === true) {\n      loseMessage.className = 'message message-lose';\n\n      return;\n    };\n  };\n\n  if (win === true) {\n    winMessage.className = 'message message-win';\n\n    return;\n  };\n});\n"]}